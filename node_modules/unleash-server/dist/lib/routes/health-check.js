'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const Controller = require('./controller');
class HealthCheckController extends Controller {
    constructor(config, { healthService }) {
        super();
        this.logger = config.getLogger('health-check.js');
        this.healthService = healthService;
        this.get('/', (req, res) => this.index(req, res));
    }
    async index(req, res) {
        try {
            await this.healthService.dbIsUp();
            res.json({ health: 'GOOD' });
        }
        catch (e) {
            this.logger.error('Could not select from features, error was: ', e);
            res.status(500).json({ health: 'BAD' });
        }
    }
}
exports.default = HealthCheckController;
module.exports = HealthCheckController;
//# sourceMappingURL=health-check.js.map